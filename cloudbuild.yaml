steps:
 # Reservations
   - name: 'gcr.io/cloud-builders/docker'
     args:
        [
          'build',
          '-t',
          'asia-southeast1-docker.pkg.dev/micro-sleepr/reservations/production',
          '-f',
          'apps/reservations/Dockerfile',
          '.',
        ]
   - name: 'gcr.io/cloud-builders/docker'
     args:
        ['push', 'asia-southeast1-docker.pkg.dev/micro-sleepr/reservations/production']

    # Auth
   - name: 'gcr.io/cloud-builders/docker'
     args:
        [
          'build',
          '-t',
          'asia-southeast1-docker.pkg.dev/micro-sleepr/auth/production',
          '-f',
          'apps/auth/Dockerfile',
          '.',
        ]
   - name: 'gcr.io/cloud-builders/docker'
     args:
        ['push', 'asia-southeast1-docker.pkg.dev/micro-sleepr/auth/production']

  # Notifications
   - name: 'gcr.io/cloud-builders/docker'
     args:
        [
          'build',
          '-t',
          'asia-southeast1-docker.pkg.dev/micro-sleepr/notifications/production',
          '-f',
          'apps/notifications/Dockerfile',
          '.',
        ]
   - name: 'gcr.io/cloud-builders/docker'
     args:
        ['push', 'asia-southeast1-docker.pkg.dev/micro-sleepr/notifications/production']

  # Payments
   - name: 'gcr.io/cloud-builders/docker'
     args:
        [
          'build',
          '-t',
          'asia-southeast1-docker.pkg.dev/micro-sleepr/payments/production',
          '-f',
          'apps/payments/Dockerfile',
          '.',
        ]
   - name: 'gcr.io/cloud-builders/docker'
     args: 
        ['push', 'asia-southeast1-docker.pkg.dev/micro-sleepr/payments/production']